# Web Server
- 一个Web Server 就是一个服务器软件（程序），或者是运行服务器软件的硬件（硬件）。其主要功能是通过HTTP 协议与客户端（通常是浏览器）进行通信，来接收/存储，处理来自客户端的HTTP 请求，并对其请求做出HTTP 响应，返回给客户端其请求的内容（文件、网页等）或返回一个Error 信息。
- 通常用户使用Web 浏览器与响应服务器进行通信，在浏览器中输入“域名”或“IP地址端口号”，浏览器则先将你的域名解析成相应的IP 地址或者直接根据你的IP 地址向对应的Web 服务器发送一个HTTP 请求，这一过程首先要通过TCP 协议的三次握手建立与目标Web 服务器的连接，然后HTTP 协议生产针对目标Web 服务器的HTTP 请求报文，通过TCP、IP 等协议发送到目标Web 服务器上。

# 基本框架
- 种类繁多，但是基本框架都一样，不同之处在于逻辑处理

## 模块【功能】
- IO处理单元【处理客户连接，读写网络数据】
  IO处理单元是服务器管理客户端连接的模块，它通常要完成以下工作：等待并接受新的客户连接，接收客户数据，将服务器相应数据返回给客户端，但是数据的收发不一定在IO处理单元中执行，也可能在逻辑单元中执行，具体在何处执行取决于事件处理模式。
- 逻辑单元【业务进程或线程】
  一个逻辑单元通常是一个进程或线程，它分析并处理客户数据，然后将结果传递给IO处理单元或者直接发送给客户端（具体使用哪种方式取决于事件处理模式）。服务器通常拥有多个逻辑单元，以实现对多个客户任务的并发处理。
- 网络存储单元【数据库，文件或缓存】
  网络存储单元可以数据库、缓存和文件，但不是必须的。
- 请求队列【各单元之间的通信方式】
  请求队列是各单元之间的通信方式的抽象，IO处理单元接收到客户请求时，需要以某种方式通知一个逻辑单元来处理该请求。同样，多个逻辑单元同时访问一个存储单元时，也需要采用某种机制来协调处理竞态条件。请求队列通常被实现为池的一部分。

# 两种高校的事件处理模式
- 服务器程序通常需要处理三类事件：IO事件、信号及定时事件。有两种高效的事件处理模式：Reactor 和 Proactor，同步IO模型通常用于实现Reactor 模式，异步IO模型通常用于实现Proactor 模式。
## Reactor 模式
要求主线程（IO处理单元）只负责监听文件描述符上是否有事发

